<?xml version="1.0" ?>
<!-- =================================================================================== -->
<!-- |    This document was autogenerated by xacro from /home/mfocchi/ros_ws/install/share/jumpleg_description/urdf/jumpleg.xacro | -->
<!-- |    EDITING THIS FILE BY HAND IS NOT RECOMMENDED                                 | -->
<!-- =================================================================================== -->
<robot name="jumpleg">
  <gazebo>
    <plugin filename="libgazebo_ros_control.so" name="gazebo_ros_controller_manager">
      <!-- if task_period is smaller than sim max_step_size (in world file) it is clamped to that value!!!!!!-->
      <robotNamespace>/jumpleg</robotNamespace>
      <robotSimType>gazebo_ros_control/DefaultRobotHWSim</robotSimType>
      <legacyModeNS>true</legacyModeNS>
      <controlPeriod>0.004</controlPeriod>
    </plugin>
  </gazebo>
  <!-- torque limits -->
  <link name="world"/>
  <joint name="base_x_joint" type="prismatic">
    <parent link="world"/>
    <child link="fake_link1"/>
    <axis xyz="1 0 0 "/>
    <origin rpy="0 0 0" xyz="0 0 0"/>
    <limit effort="1000" lower="-100" upper="100" velocity="100.0"/>
  </joint>
  <link name="fake_link1">
    <inertial>
      <mass value="0.00001"/>
      <inertia ixx="5.8083e-4" ixy="0" ixz="0" iyy="3.0833e-5" iyz="0" izz="5.9083e-4"/>
    </inertial>
  </link>
  <joint name="base_y_joint" type="prismatic">
    <parent link="fake_link1"/>
    <child link="fake_link2"/>
    <axis xyz="0 1 0 "/>
    <origin rpy="0 0 0" xyz="0 0 0"/>
    <limit effort="1000" lower="-100" upper="100" velocity="100.0"/>
  </joint>
  <link name="fake_link2">
    <inertial>
      <mass value="0.00001"/>
      <inertia ixx="5.8083e-4" ixy="0" ixz="0" iyy="3.0833e-5" iyz="0" izz="5.9083e-4"/>
    </inertial>
  </link>
  <joint name="base_z_joint" type="prismatic">
    <parent link="fake_link2"/>
    <child link="base_link"/>
    <axis xyz="0 0 1 "/>
    <origin rpy="0 0 0" xyz="0 0 0"/>
    <limit effort="1000" lower="-100" upper="100" velocity="100.0"/>
  </joint>
  <link name="base_link"/>
  <joint name="floating_base" type="fixed">
    <origin rpy="0 0 0" xyz="0 0 0"/>
    <parent link="base_link"/>
    <child link="trunk"/>
  </joint>
  <link name="trunk">
    <inertial>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <mass value="1.16115091"/>
      <!-- The base is extremely symmetrical. -->
      <inertia ixx="0.00578574" ixy="0.0" ixz="0.0" iyy="0.01938108" iyz="0.0" izz="0.02476124"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <box size="0.05 0.05 0.05"/>
      </geometry>
      <material name="grey">
        <color rgba="0.8 0.8 0.8 1.0"/>
      </material>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <box size="0.05 0.05 0.05"/>
      </geometry>
      <material name="grey">
        <color rgba="0.8 0.8 0.8 1.0"/>
      </material>
    </collision>
    <!-- Bullet specific paramters -->
    <contact>
      <lateral_friction value="1.0"/>
      <restitution value="0.5"/>
    </contact>
  </link>
  <!--HAA JOINT: Joint between the trunk and the hip assembly -->
  <joint name="lf_haa_joint" type="revolute">
    <parent link="trunk"/>
    <child link="lf_hip_assembly"/>
    <!-- joints rotates around the x-axis -->
    <axis xyz="1 0 0"/>
    <!-- limit and placement of the joint -->
    <!-- LF_HAA_JOINT -->
    <!-- lower=-75deg, upper=140, velocity=555.5rpm (=5000rpm motor-side) -->
    <limit effort="10" lower="-1.30899694" upper="2.44346095" velocity="58.17764173"/>
    <safety_controller k_position="10" k_velocity="1" soft_lower_limit="-1.25" soft_upper_limit="2.43"/>
    <origin rpy="0 0 0" xyz="0 0 0"/>
    <!-- pybullet simulation parameters -->
    <dynamics damping="0.0" friction="0.0"/>
  </joint>
  <!-- HIP ASSEMBLY -->
  <link name="lf_hip_assembly">
    <!-- create a dummy hip_assembly link to join the two joints -->
    <!-- HIP ASSEMBLY VISUAL-->
    <visual>
      <!-- LF HIP ASSEMBLY -->
      <origin rpy="0 0 0" xyz="0.01950 0 0"/>
      <geometry>
        <mesh filename="package://jumpleg_description/meshes/stl/solo12/solo12_hip_fe_fl.stl"/>
      </geometry>
      <material name="grey">
        <color rgba="0.8 0.8 0.8 1.0"/>
      </material>
    </visual>
    <!-- HIP ASSEMBLY COLLISION-->
    <collision>
      <!-- LF HIP ASSEMBLY -->
      <origin rpy="0 0 0" xyz="0.01950 0 0"/>
      <geometry>
        <mesh filename="package://jumpleg_description/meshes/stl/solo12/solo12_hip_fe_fl.stl"/>
      </geometry>
      <material name="grey">
        <color rgba="0.8 0.8 0.8 1.0"/>
        xacro
                	
      </material>
    </collision>
    <!-- HIP ASSEMBLY INERTIAL -->
    <inertial>
      <mass value="0.14853845"/>
      <!-- LF HIP ASSEMBLY -->
      <origin rpy="0 0 0" xyz="-0.07870700 0.01 0."/>
      <inertia ixx="0.00003024" ixy="0.00004671" ixz="0.0" iyy="0.00041193" iyz="0.0" izz="0.00041107"/>
    </inertial>
  </link>
  <!--HFE JOINT-->
  <joint name="lf_hfe_joint" type="revolute">
    <parent link="lf_hip_assembly"/>
    <child link="lf_upper_leg"/>
    <!-- joints rotates around the y-axis -->
    <axis xyz="0 1 0"/>
    <!-- LF_HFE_JOINT -->
    <!-- lower=-225deg, upper=90deg, velocity=555.5rpm (=5000rpm motor-side) -->
    <limit effort="10" lower="-3.92699082" upper="1.57079633" velocity="58.17764173"/>
    <safety_controller k_position="10" k_velocity="1" soft_lower_limit="-3.8" soft_upper_limit="1.53"/>
    <origin rpy="0 0 0" xyz="0 0.014 0"/>
    <!-- pybullet simulation parameters -->
    <dynamics damping="0.0" friction="0.0"/>
  </joint>
  <!-- UPPER LEG LINK -->
  <link name="lf_upper_leg">
    <!-- Left upper leg inertia -->
    <inertial>
      <origin rpy="0 0 0" xyz="0.00001377 0.01935853 -0.07870700"/>
      <mass value="0.14853845"/>
      <inertia ixx="0.00041107" ixy="0.0" ixz="0.0" iyy="0.00041193" iyz="0.00004671" izz="0.00003024"/>
    </inertial>
    <!-- UPPER LEG LINK VISUAL -->
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://jumpleg_description/meshes/stl/with_foot/solo_upper_leg_left_side.stl"/>
      </geometry>
      <material name="grey">
        <color rgba="0.8 0.8 0.8 1.0"/>
      </material>
    </visual>
    <!-- UPPER LEG LINK COLLISION -->
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://jumpleg_description/meshes/stl/with_foot/solo_upper_leg_left_side.stl"/>
      </geometry>
      <material name="grey">
        <color rgba="0.8 0.8 0.8 1.0"/>
      </material>
    </collision>
    <!-- Bullet specific paramters -->
    <contact>
      <lateral_friction value="1.0"/>
      <restitution value="0.5"/>
    </contact>
  </link>
  <!-- END UPPER LEG LINK -->
  <!-- KFE JOINT: Joint between the upper leg and the lower leg -->
  <joint name="lf_kfe_joint" type="revolute">
    <parent link="lf_upper_leg"/>
    <child link="lf_lower_leg"/>
    <!-- joints rotates around the y-axis -->
    <axis xyz="0 1 0"/>
    <!-- LF_KFE JOINT -->
    <!-- lower=-370deg, upper=370deg, velocity=555.5rpm (=5000rpm motor-side) -->
    <limit effort="10" lower="-6.45771823" upper="6.45771823" velocity="58.17764173"/>
    <safety_controller k_position="10" k_velocity="1" soft_lower_limit="-6.45771823" soft_upper_limit="6.45771823"/>
    <origin rpy="0 0 0" xyz="0 0.037450000000000004 -0.16"/>
    <!-- pybullet simulation parameters -->
    <dynamics damping="0.0" friction="0.0"/>
  </joint>
  <!-- LOWERLEG -->
  <link name="lf_lower_leg">
    <!-- Left lower leg inertia -->
    <inertial>
      <origin rpy="0 0 0" xyz="0.0 0.00787644 -0.08928215"/>
      <mass value="0.03070001"/>
      <inertia ixx="0.00012024" ixy="0.0" ixz="0.0" iyy="0.00012029" iyz="0.00000305" izz="0.00000216"/>
    </inertial>
    <!-- LOWER LEG LINK VISUAL -->
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://jumpleg_description/meshes/stl/with_foot/solo_lower_leg_left_side.stl"/>
      </geometry>
      <material name="grey">
        <color rgba="0.8 0.8 0.8 1.0"/>
      </material>
    </visual>
    <!-- LOWER LEG LINK COLLISION -->
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://jumpleg_description/meshes/stl/with_foot/solo_lower_leg_left_side.stl"/>
      </geometry>
      <material name="grey">
        <color rgba="0.8 0.8 0.8 1.0"/>
      </material>
    </collision>
    <!-- Bullet specific paramters -->
    <contact>
      <lateral_friction value="1.0"/>
      <restitution value="0.5"/>
    </contact>
  </link>
  <!-- END LOWER LEG LINK -->
  <!-- ANKLE: (Fixed) joint between the lower leg and the foot -->
  <joint name="lf_ankle" type="fixed">
    <parent link="lf_lower_leg"/>
    <child link="lf_foot"/>
    <origin rpy="0 0 0" xyz="0 0.008 -0.16"/>
    <!-- pybullet simulation parameters -->
    <dynamics damping="0.0" friction="0.0"/>
  </joint>
  <!-- FOOT -->
  <link name="lf_foot">
    <!-- FOOT INERTIAL -->
    <!-- This link is symmetrical left or right -->
    <inertial>
      <origin rpy="0 0 0" xyz="0 0 0.00035767"/>
      <mass value="0.00693606"/>
      <inertia ixx="0.00000057" ixy="0.0" ixz="0.0" iyy="0.00000084" iyz="0.0" izz="0.00000053"/>
    </inertial>
    <!-- FOOT VISUAL -->
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://jumpleg_description/meshes/stl/with_foot/solo_foot.stl"/>
      </geometry>
      <material name="grey">
        <color rgba="0.8 0.8 0.8 1.0"/>
      </material>
    </visual>
    <!-- FOOT COLLISION -->
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://jumpleg_description/meshes/stl/with_foot/solo_foot.stl"/>
        <!-- sphere radius="0.01"/-->
      </geometry>
      <material name="grey">
        <color rgba="0.8 0.8 0.8 1.0"/>
      </material>
    </collision>
    <!-- Bullet specific paramters -->
    <contact>
      <lateral_friction value="1.0"/>
      <restitution value="0.5"/>
    </contact>
  </link>
  <!-- END FOOT LINK -->
  <!-- Hip assembly -->
  <transmission name="lf_haa_trans">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="lf_haa_joint">
      <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
    </joint>
    <actuator name="lf_haa_motor">
      <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <!-- Upper leg -->
  <transmission name="lf_hfe_trans">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="lf_hfe_joint">
      <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
    </joint>
    <actuator name="lf_hfe_motor">
      <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <!-- Lower leg -->
  <transmission name="lf_kfe_trans">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="lf_kfe_joint">
      <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
    </joint>
    <actuator name="lf_kfe_motor">
      <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <gazebo reference="lf_haa_joint">
    <provideFeedback>true</provideFeedback>
  </gazebo>
  <gazebo reference="lf_kfe_joint">
    <provideFeedback>true</provideFeedback>
  </gazebo>
  <gazebo reference="lf_hfe_joint">
    <provideFeedback>true</provideFeedback>
  </gazebo>
  <gazebo reference="lf_upperleg">
    <kp>1000000.0</kp>
    <kd>100.0</kd>
    <mu1>1.5</mu1>
    <mu2>1.5</mu2>
    <fdir1>1 0 0</fdir1>
    <maxVel>1.0</maxVel>
    <minDepth>0.00</minDepth>
  </gazebo>
  <gazebo reference="lf_foot">
    <kp>1000000.0</kp>
    <kd>100.0</kd>
    <mu1>1.0</mu1>
    <mu2>1.0</mu2>
    <maxVel>1.0</maxVel>
    <maxContacts>1</maxContacts>
    <sensor name="lf_foot_contact_sensor" type="contact">
      <always_on>true</always_on>
      <update_rate>1000.0</update_rate>
      <contact>
        <collision>lf_lower_leg_fixed_joint_lump__lf_foot_collision_1</collision>
      </contact>
      <!-- the sensor readings in terms of force torques are expressed in the lowerleg frame
                                because gazebo lumps the fake footframe with the real parent link, the normals are in the world frame-->
      <plugin filename="libgazebo_ros_bumper.so" name="lf_foot_bumper">
        <bumperTopicName>/jumpleg/lf_foot_bumper</bumperTopicName>
        <robotNamespace>jumpleg</robotNamespace>
      </plugin>
    </sensor>
    <material>Gazebo/Black</material>
  </gazebo>
  <transmission name="base_x_trans">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="base_x_joint">
      <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
    </joint>
    <actuator name="base_x_motor">
      <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <transmission name="base_y_trans">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="base_y_joint">
      <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
    </joint>
    <actuator name="base_y_motor">
      <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <transmission name="base_z_trans">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="base_z_joint">
      <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
    </joint>
    <actuator name="base_z_motor">
      <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
</robot>
